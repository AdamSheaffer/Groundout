<div class="prog-welcome">
  <h3>You've seen {{myProg.percentComplete()}} of all parks</h3>
  <h5>Log a visit or check out available tickets by clicking a team below!<h5>
</div>
<div class="progress col-10-sm">
  <div class="progress-bar progress-bar-striped" role="progressbar" aria-valuenow="{{myProg.percentComplete()}}" aria-valuemin="10" aria-valuemax="100" style="width: {{myProg.percentComplete()}};">
    {{myProg.percentComplete()}}
  </div>
</div>

<div class="progress-wrapper">
  <div class="prog-lightbox" ng-show="myProg.showModal" ng-click="myProg.hideModal()"></div>

  <div class="prog-modal" ng-show="myProg.showModal">
    <img class="modal-pic" ng-src="{{myProg.parkPic}}">
    <h2>How was your trip to {{myProg.showModal}}?</h2>
    <form role="form" name="newVisitForm">
      <div class="form-group">
        <label>Date</label>
        <span class="glyphicon glyphicon-calendar"></span>
        <input class="form-control" type="text" ng-model="myProg.visit.date" bs-datepicker data-date-type="string" required>
      </div>
      <div class="form-group">
        <label>Rating</label>
        <select ng-model="myProg.visit.rating">
          <option value="&#9733;">&#9733;</option>
          <option value="&#9733; &#9733;">&#9733; &#9733;</option>
          <option value="&#9733; &#9733; &#9733;">&#9733; &#9733; &#9733;</option>
          <option value="&#9733; &#9733; &#9733; &#9733;">&#9733; &#9733; &#9733; &#9733;</option>
          <option value="&#9733; &#9733; &#9733; &#9733; &#9733;">&#9733; &#9733; &#9733; &#9733; &#9733;</option>
        </select>
      </div>
      <div class="form-group">
        <label>Comments</label>
        <span class="glyphicon glyphicon-comment"></span>
        <textarea cols="40" rows="5" ng-model="myProg.visit.comments" placeholder="Awesome hotdogs!"></textarea>
      </div>
      <button class="btn btn-warning" ng-click="myProg.hideModal()">Cancel</button>
      <button class="btn btn-warning" ng-click="myProg.markAsVisited(myProg.showModal)">Log Trip</button>
    </form>
  </div>

  <div class="my-visits-wrap col-lg-2" ng-repeat="team in myProg.teams">
    <div>
    <a href="{{team.ticketpath}}">
      <img class="teams" ng-class="{'unvisited': !team.visited}" ng-src="{{team.image}}" alt="{{team.name}}">
    </a>
    <a href="{{team.ticketpath}}">
      <h4 class="progress-team-name">{{team.name}}</h4>
    </a>
    </div>
    <div class="trip-details" ng-hide="!team.visited">
      <div><h5>Date:</h5>{{team.date}}</div>
      <div><h5>Rating:</h5><span class="stars">{{team.rating}}</span></div>
      <div><h5>Comments:</h5>{{team.comments}}</div>
      <button class="btn btn-primary btn-xs" ng-click="myProg.editTrip(team.park)">
        <span class="glyphicon glyphicon-edit"></span>
        <span>Edit</span>
      </button>
    </div>
    <button ng-hide="team.visited" class="btn btn-warning" ng-click="myProg.askForDetails(team.park)">Mark As Visited</button>
  </div>
</div>
